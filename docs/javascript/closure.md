## –ó–∞–º—ã–∫–∞–Ω–∏—è

–õ—É—á—à–∞—è –≤–µ—â—å, –∫–æ—Ç–æ—Ä—É—é –∫–æ–≥–¥–∞-–ª–∏–±–æ –ø–æ–ª—É—á–∞–ª JavaScript - —ç—Ç–æ –∑–∞–º—ã–∫–∞–Ω–∏—è. –§—É–Ω–∫—Ü–∏–∏ –≤ JavaScript –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–º –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–º –≤–æ –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏. 
–ó–∞–º—ã–∫–∞–Ω–∏—è –ª—É—á—à–µ –≤—Å–µ–≥–æ –æ–±—ä—è—Å–Ω–∏—Ç—å –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö:
```ts
function outerFunction(arg) {
    var variableInOuterFunction = arg;

    function bar() {
        console.log(variableInOuterFunction); // –î–æ—Å—Ç—É–ø –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏–∑ –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏
    }   
    // –í—ã–∑–æ–≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç, —á—Ç–æ –æ–Ω–∞ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ arg 
    bar();
}

outerFunction("hello closure"); // –≤—ã–≤–µ–¥–µ—Ç hello closure!
```

–í—ã –º–æ–∂–µ—Ç–µ –≤–∏–¥–µ—Ç—å —á—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—è –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (variableInOuterFunction) –∏–∑ –≤—ã—à–µ—Å—Ç–æ—è—â–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏.
–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–æ –≤–Ω–µ—à–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ –±—ã–ª–∏ –∑–∞–º–∫–Ω—É—Ç—ã (–∏–ª–∏ —Å–≤—è–∑–∞–Ω—ã) —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–µ–π. –û—Ç—Å—é–¥–∞ –∏ —Ç–µ—Ä–º–∏–Ω  **–∑–∞–º—ã–∫–∞–Ω–∏–µ**.
–°–∞–º–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–∞ –∏ –¥–æ–≤–æ–ª—å–Ω–æ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–∞.

–¢–µ–ø–µ—Ä—å —Å–∞–º–∞—è –∫—Ä—É—Ç–∞—è —á–∞—Å—Ç—å: –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—è –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –∏–∑ –≤—ã—à–µ—Å—Ç–æ—è—â–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ *–¥–∞–∂–µ –ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–æ–≥–¥–∞ –≤—ã—à–µ—Å—Ç–æ—è—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è –µ–µ –≤–µ—Ä–Ω—É–ª–∞*.
–í—Å–µ —ç—Ç–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤—Å–µ –µ—â–µ —Å–≤—è–∑–∞–Ω—ã –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –≤–Ω–µ—à–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–∏. –ï—â–µ —Ä–∞–∑ –≤–∑–≥–ª—è–Ω–µ–º –Ω–∞ –ø—Ä–∏–º–µ—Ä:
```ts
function outerFunction(arg) {
    var variableInOuterFunction = arg;
    return function() {
        console.log(variableInOuterFunction);
    }
}

var innerFunction = outerFunction("hello closure!");

// –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ externalFunction –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞
innerFunction(); // –≤—ã–≤–µ–¥–µ—Ç hello closure!
```

### –ü–æ—á–µ–º—É —ç—Ç–æ –∫—Ä—É—Ç–æ
–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –æ–±—ä—è–≤–ª—è—Ç—å –æ–±—ä–µ–∫—Ç—ã, –≤ –ø–∞—Ç—Ç–µ—Ä–Ω–µ Revealing Module (–ø–∞—Ç—Ç–µ—Ä–Ω –≤—ã—è–≤–ª–µ–Ω–∏—è –º–æ–¥—É–ª–µ–π, –æ–Ω –∂–µ ‚Äî –ø–∞—Ç—Ç–µ—Ä–Ω –æ—Ç–∫—Ä—ã—Ç—ã–π –º–æ–¥—É–ª—å, –æ–Ω –∂–µ ‚Äî –ø–∞—Ç—Ç–µ—Ä–Ω —Ä–∞—Å–∫—Ä—ã–≤–∞—é—â–∏–π—Å—è –º–æ–¥—É–ª—å)

```ts
function createCounter() {
    let val = 0;
    return {
        increment() { val++ },
        getVal() { return val }
    }
}

let counter = createCounter();
counter.increment();
console.log(counter.getVal()); // 1
counter.increment();
console.log(counter.getVal()); // 2
```

–ù–∞ –≤—ã—Å–æ–∫–æ–º —É—Ä–æ–≤–Ω–µ —ç—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–ª–∞—Ç—å Node.js —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ —ç—Ç–æ–≥–æ (–ù–µ –±–µ—Å–ø–æ–∫–æ–π—Ç–µ—Å—å, –µ—Å–ª–∏ —É –≤–∞—Å –≤ –º–æ–∑–≥—É –ø–æ–∫–∞ –Ω–µ —â–µ–ª–∫–Ω—É–ª–æ. –≠—Ç–æ —Ç–æ–ª—å–∫–æ üåπ):

```ts
// –ü—Å–µ–≤–¥–æ–∫–æ–¥ –¥–ª—è –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏
server.on(function handler(req, res) {
    loadData(req.id).then(function(data) {
        // `res` –±—ã–ª –∑–∞–º–∫–Ω—É—Ç –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
        res.send(data);
    })
});
```
